DROP TABLE IF EXISTS USER_ROLES CASCADE;
DROP INDEX IF EXISTS IDX_USER_ROLES_USER_ID;
DROP INDEX IF EXISTS IDX_USER_ROLES_ROLE_ID;

CREATE TABLE USER_ROLES (
    USER_ID INTEGER NOT NULL,
    ROLE_ID INTEGER NOT NULL,
    CREATED_DATETIME TIMESTAMP,
    CREATED_BY VARCHAR(255),
    CONSTRAINT PK_USER_ROLES PRIMARY KEY (USER_ID, ROLE_ID),
    CONSTRAINT FK_USER_ROLES_USER_ID FOREIGN KEY (USER_ID) REFERENCES USERS (ID),
    CONSTRAINT FK_USER_ROLES_ROLE_ID FOREIGN KEY (ROLE_ID) REFERENCES ROLES (ID)
);

CREATE INDEX IDX_USER_ROLES_USER_ID ON USER_ROLES (USER_ID);
CREATE INDEX IDX_USER_ROLES_ROLE_ID ON USER_ROLES (ROLE_ID);


INSERT INTO USER_ROLES (
    USER_ID,
    ROLE_ID,
    CREATED_DATETIME,
    CREATED_BY
) VALUES (
             1,
             1,
             '2024-03-09 17:49:20',
             '888'
         );
