DROP TABLE IF EXISTS USERS CASCADE;
DROP INDEX IF EXISTS IDX_USERS_LOGIN_ID;
DROP INDEX IF EXISTS IDX_USERS_EMAIL;
DROP INDEX IF EXISTS IDX_USERS_PHONE_NUMBER;

CREATE TABLE USERS (
    ID SERIAL PRIMARY KEY,
    LOGIN_ID VARCHAR(255) UNIQUE NOT NULL,
    PASSWORD VARCHAR(255) NOT NULL,
    PASSWORD_UPDATED_DATETIME TIMESTAMP,
    EMAIL VARCHAR(255) UNIQUE NOT NULL,
    PHONE_NUMBER CHAR(13) UNIQUE NOT NULL,
    USER_TYPE CHAR(2),
    EMAIL_VERIFICATION_STATUS CHAR(1),
    IDENTITY_VERIFICATION_STATUS CHAR(1),
    REVIEW_STATUS CHAR(1),
    USER_STATUS CHAR(2),
    ACTIVATED CHAR(1),
    CUSTOMER_NUMBER CHAR(14),
    LOGIN_ERR_CNT SMALLINT,
    LOGIN_UNLOCK_DATETIME TIMESTAMP,
    LOGIN_CNT INTEGER,
    LOGIN_OK_CNT INTEGER,
    LOGIN_FIRST_YMD DATE,
    LOGIN_DATETIME_LAST TIMESTAMP,
    LOGOUT_DATETIME TIMESTAMP,
    LOGICAL_DELETION_FLAG CHAR(1),
    LOGICAL_DELETION_DATETIME TIMESTAMP,
    CREATED_DATETIME TIMESTAMP NOT NULL,
    CREATED_BY VARCHAR(255),
    UPDATED_DATETIME TIMESTAMP NOT NULL,
    UPDATED_BY VARCHAR(255)
);

CREATE INDEX IDX_USERS_LOGIN_ID ON USERS (LOGIN_ID);
CREATE INDEX IDX_USERS_EMAIL ON USERS (EMAIL);
CREATE INDEX IDX_USERS_PHONE_NUMBER ON USERS (PHONE_NUMBER);


INSERT INTO USERS (
    ID,
    LOGIN_ID,
    PASSWORD,
    PASSWORD_UPDATED_DATETIME,
    EMAIL,
    PHONE_NUMBER,
    USER_TYPE,
    EMAIL_VERIFICATION_STATUS,
    IDENTITY_VERIFICATION_STATUS,
    REVIEW_STATUS,
    USER_STATUS,
    ACTIVATED,
    CUSTOMER_NUMBER,
    LOGIN_ERR_CNT,
    LOGIN_UNLOCK_DATETIME,
    LOGIN_CNT,
    LOGIN_OK_CNT,
    LOGIN_FIRST_YMD,
    LOGIN_DATETIME_LAST,
    LOGOUT_DATETIME,
    LOGICAL_DELETION_FLAG,
    LOGICAL_DELETION_DATETIME,
    CREATED_DATETIME,
    CREATED_BY,
    UPDATED_DATETIME,
    UPDATED_BY
) VALUES (
             1,
             '888',
             '$2a$10$2mO7/KcswzO3SQU7TX3fiOfkypjdOn3tLBezV/tf2IJXdQu1BpxK2',
             '2024-03-16 09:45:53',
             'test@gmail.com',
             '15900000064',
             '01',
             '0',
             '0',
             '0',
             '00',
             '0',
             '1590000000064',
             0,
             null,
             null,
             null,
             null,
             null,
             null,
             null,
             null,
             '2024-03-09 17:49:20',
             '888',
             '2024-03-09 17:49:22',
             '888'
         );
